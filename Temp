To move Jenkins agents from jenkins-mfg.com to jenkins-dhms.com without manually configuring each one, you can follow these steps:

1. Copy the Jenkins Configuration Files

On the Jenkins master server (jenkins-mfg.com), the agents’ configurations are stored in the <JENKINS_HOME>/nodes directory.

Copy the contents of the nodes directory from the jenkins-mfg.com server to the new jenkins-dhms.com server.


Example:

rsync -avz <JENKINS_HOME>/nodes/ <JENKINS_HOME_ON_NEW>/nodes/

This will copy all agent configurations, including their settings and node-specific details.

2. Transfer Security Configurations (if needed)

If you are using SSH or specific security credentials (like key files or stored credentials), you need to ensure the credentials are also transferred.

You can find the credentials configuration under <JENKINS_HOME>/credentials.xml. Copy this file to the new instance if necessary, while ensuring sensitive data (like keys) are correctly transferred.


3. Restart the Jenkins Instance

Once you’ve copied the configuration files and credentials, restart the Jenkins instance (jenkins-dhms.com) to apply the changes:


sudo systemctl restart jenkins

4. Verify Agent Connections

Go to the Jenkins dashboard of the new instance (jenkins-dhms.com) and verify that all agents are listed and are able to connect to the new master instance.

If some agents are configured to connect via SSH, ensure the new Jenkins master has the right SSH keys to communicate with the agents.


5. Test Each Agent

Once the agents appear on the new Jenkins instance, run a simple test job on each agent to confirm connectivity and proper configuration.


By copying the configuration files, you can avoid manually setting up each agent again on the new Jenkins instance.
