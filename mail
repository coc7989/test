pipeline {
    agent any
    stages {
        stage('Run Remote Command') {
            steps {
                script {
                    def clusterName = "India" // Replace with dynamic cluster name logic
                    def masterName = clusterName == "India" ? "masterindia.com" : 
                                     clusterName == "Canada" ? "mastercanada.com" : 
                                     error("Unknown cluster name: ${clusterName}")

                    echo "Connecting to ${masterName} and running remote command"
                    def remoteOutput = sh(script: """
                        ssh -o LogLevel=ERROR -o BatchMode=yes -o StrictHostKeyChecking=no ${masterName} 'hostname'
                    """, returnStdout: true).trim()

                    echo "Remote Hostname: ${remoteOutput}"
                }
            }
        }
    }
}
