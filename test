pipeline {
    agent any
    
    stages {
        stage('Write Output to File') {
            steps {
                script {
                    def output = [
                        {"id": 0, "feature_name": "111", "file1": 2, "file2": 2, "difference": 0 },
                        {"id": 1, "feature_name": "940", "file1": 1, "file2": 1, "difference": 0 },
                        {"id": 2, "feature_name": "945", "file1": 1, "file2": 1, "difference": 0 },
                        {"id": 3, "feature_name": "Affirma_sim_analysis_env", "file1": 5, "file2": 5, "difference": 0 },
                        {"id": 4, "feature_name": "Conformal_Asic", "file1": 1, "file2": 1, "difference": 0 },
                        {"id": 5, "feature_name": "Conformal_Ultra", "file1": 1, "file2": 1, "difference": 0 },
                        {"id": 6, "feature_name": "COSLITE_ACCESS", "file1": 1, "file2": 1, "difference": 0 }
                    ]
                    
                    def outputString = "ID   Feature Name                File1   File2   Difference\n"
                    output.each { obj ->
                        outputString += "${obj['id']}   ${obj['feature_name'].padRight(30)} ${obj['file1']}   ${obj['file2']}   ${obj['difference']}\n"
                    }
                    
                    writeFile file: 'output_table.csv', text: outputString
                }
            }
        }
    }
}
