# Fetch number of servers in different regions
cursor.execute("SELECT region, COUNT(DISTINCT server) FROM mapping GROUP BY region")
servers_data = [{'id': i, 'value': count, 'label': region} for i, (region, count) in enumerate(cursor.fetchall())]

# Fetch number of vendors in different regions
cursor.execute("SELECT region, COUNT(DISTINCT vendor_id) FROM mapping GROUP BY region")
vendors_data = [{'id': j, 'value': count, 'label': region} for j, (region, count) in enumerate(cursor.fetchall())]

data['servers_in_regions'] = servers_data
data['vendors_in_regions'] = vendors_data
