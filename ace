// MailComponent.js

import React, { useState, useEffect } from 'react';
import { TextField, Button } from '@mui/material';

function MailComponent({ interval, vendor, server, type }) {
  const [subject, setSubject] = useState('');
  const [body, setBody] = useState('');

  useEffect(() => {
    let newSubject = 'Features expiring';
    if (interval) {
      newSubject += ` in ${interval}`;
    }
    if (vendor && server) {
      newSubject += ` for ${vendor} and ${server}`;
    } else if (vendor) {
      newSubject += ` for ${vendor}`;
    }
    setSubject(newSubject);
    setBody('Please renew the features attached');
  }, [interval, vendor, server, type]);

  const handleSubjectChange = (event) => {
    setSubject(event.target.value);
  };

  const handleBodyChange = (event) => {
    setBody(event.target.value);
  };

  return (
    <div>
      <TextField label="Subject" value={subject} onChange={handleSubjectChange} />
      <TextField label="Body" multiline rows={4} value={body} onChange={handleBodyChange} />
      <Button variant="contained" color="primary">
        Send Mail
      </Button>
    </div>
  );
}

export default MailComponent;
